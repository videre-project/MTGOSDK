<!-- This file is used to provide missing properties for the msbuild cli. -->
<Project>

  <!-- Project Directories -->
  <PropertyGroup>
    <SolutionDir>$(MSBuildThisFileDirectory)</SolutionDir>
    <DistDir>$(SolutionDir)\dist</DistDir>
    <PublishDir>$(SolutionDir)\publish</PublishDir>
  </PropertyGroup>

  <!-- Internal SDK Paths -->
  <PropertyGroup>
    <UseFullSDKPaths>true</UseFullSDKPaths>
    <MTGOSDKCoreTFM>netstandard2.0</MTGOSDKCoreTFM>
    <MTGOSDKCorePath>$(SolutionDir)\MTGOSDK\bin\$(Configuration)\$(MTGOSDKCoreTFM)</MTGOSDKCorePath>
  </PropertyGroup>

  <!-- SourceLink: Package Properties -->
  <ItemGroup Condition="'$(EnableSourceLink)' != 'false'">
    <PackageReference Include="Microsoft.SourceLink.GitHub"
                      Version="8.0.0"
                      PrivateAssets="All" />
  </ItemGroup>
  <PropertyGroup Condition="'$(EnableSourceLink)' != 'false'">
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <!-- These properties are automatically set by the .NET 8+ SDK. -->
    <DebugType>embedded</DebugType>
    <EmbedUntrackedSources>false</EmbedUntrackedSources>
    <IncludeSymbols>True</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
  </PropertyGroup>

  <!-- Disable SourceLink for C++ projects -->
  <PropertyGroup Condition="'$(MSBuildProjectExtension)' == '.vcxproj'">
    <EnableSourceLink>false</EnableSourceLink>
    <ResolveNugetPackages>false</ResolveNugetPackages>
  </PropertyGroup>
  <PropertyGroup Condition="'$(EnableSourceLink)' == 'false'">
    <SuppressImplicitGitSourceLink>true</SuppressImplicitGitSourceLink>
    <EnableSourceControlManagerQueries>false</EnableSourceControlManagerQueries>
  </PropertyGroup>

  <!-- Continuous Integration -->
  <PropertyGroup Condition="'$(GITHUB_ACTIONS)' == 'true'">
    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
  </PropertyGroup>

  <PropertyGroup>
    <!-- <RestoreLockedMode>true</RestoreLockedMode> -->
    <RestorePackagesWithLockFile>true</RestorePackagesWithLockFile>
    <RestoreUseStaticGraphEvaluation>true</RestoreUseStaticGraphEvaluation>
  </PropertyGroup>

</Project>